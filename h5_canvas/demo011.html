<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>绘制变形图形2 -- 输出图像</title>
</head>
<body>
	<canvas id="canvas" width="260" height="260" style="margin-left: 200px;"></canvas>
	<input type="button" value="输出图像" onclick="javascript: showImg();">
	<img id="img1" width="150" height="150">

	<script>
		function showImg(){
			/*
			 * canvas.toDataURL(type)
			 * type 表示要输入的数据的MIME类型
			 */
			var img1 = document.getElementById('canvas').toDataURL("images/png");
			document.getElementById('img1').src = img1;
		}

		window.addEventListener("load", function(){
			var canvas = document.getElementById('canvas');
			if (canvas && canvas.getContext) {
				var ctx = canvas.getContext("2d");
				ctx.fillStyle = "#ffb";
				ctx.beginPath();
				ctx.rect(5, 5, 250, 250);
				ctx.fill();
				ctx.stroke();
				ctx.arc(150, 150, 80, 0, Math.PI * 2 / 4, true);
				ctx.stroke();
			}
		});
	</script>
</body>
</html>